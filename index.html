<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<meta name="x5-orientation" content="portrait">
<meta name="screen-orientation" content="portrait">
<title>❤️ 给媛媛的表白</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#FF69B4 0%,#BA55D3 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}
@font-face{font-family:'CuteFont';font-style:normal;font-weight:400;src:local('Arial')}
.container{text-align:center;background:rgba(255,255,255,0.95);padding:40px;border-radius:30px;box-shadow:0 20px 60px rgba(0,0,0,0.2);max-width:400px;width:90%;position:relative;z-index:10;animation:fadeIn 0.8s ease-out}
@keyframes fadeIn{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:scale(1)}}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
@keyframes breathe{0%,100%{transform:scale(1);opacity:0.8}50%{transform:scale(1.05);opacity:1}}
@keyframes wave{0%,100%{transform:rotate(-30deg)}50%{transform:rotate(-50deg)}}
@keyframes heartbeat{0%,100%{transform:scale(1)}25%{transform:scale(1.1)}50%{transform:scale(1)}}
.lottie-container{width:150px;height:150px;margin:0 auto 30px;position:relative}
.cute-character{width:100%;height:100%;position:relative;animation:bounce 2s ease-in-out infinite}
.char-head{width:80px;height:80px;background:#FFB6C1;border-radius:50%;position:absolute;top:10px;left:35px;box-shadow:0 5px 15px rgba(0,0,0,0.1)}
.char-eye{width:10px;height:10px;background:#333;border-radius:50%;position:absolute;top:30px}
.char-eye.left{left:20px}
.char-eye.right{right:20px}
.char-smile{width:30px;height:15px;border:3px solid #333;border-top:none;border-radius:0 0 30px 30px;position:absolute;bottom:20px;left:25px}
.char-body{width:60px;height:80px;background:#FFB6C1;border-radius:30px;position:absolute;top:70px;left:45px;box-shadow:0 5px 15px rgba(0,0,0,0.1)}
.char-arm{width:20px;height:50px;background:#FFB6C1;border-radius:20px;position:absolute;top:80px}
.char-arm.left{left:25px;transform:rotate(-30deg);transform-origin:top center;animation:wave 1s ease-in-out infinite}
.char-arm.right{right:25px;transform:rotate(30deg);transform-origin:top center}
.question{font-size:28px;color:#FF1493;margin-bottom:30px;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.1);font-family:'CuteFont',cursive;animation:breathe 2s ease-in-out infinite}
.buttons{display:flex;gap:20px;justify-content:center;margin-top:20px}
.btn{padding:18px 45px;font-size:20px;border:none;border-radius:50px;cursor:pointer;transition:all 0.3s ease;font-weight:bold;font-family:'CuteFont',cursive;position:relative;overflow:hidden}
.btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:rgba(255,255,255,0.3);border-radius:50%;transform:translate(-50%,-50%);transition:width 0.6s,height 0.6s}
.btn:active::before{width:300px;height:300px}
.btn-yes{background:#FFB6C1;color:white;box-shadow:0 5px 15px rgba(255,182,193,0.4)}
.btn-yes:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(255,182,193,0.5)}
.btn-no{background:#ddd;color:#666;transition:all 0.5s ease}
.success-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#FFF0F5;z-index:1000;align-items:center;justify-content:center;flex-direction:column}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999}
.dogs-svg{width:300px;height:200px;margin:20px auto}
.dog-path{fill:none;stroke:#FF69B4;stroke-width:3;stroke-linecap:round;stroke-linejoin:round}
.heart-bubble{animation:heartbeat 1s ease-in-out infinite}
.success-text{font-size:36px;color:#FF1493;text-align:center;margin-top:20px;font-family:'CuteFont',cursive;animation:breathe 2s ease-in-out infinite}
.hidden-easter{position:fixed;bottom:20px;right:20px;opacity:0;transition:opacity 0.5s}
.shake-hint{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,0.9);padding:10px 20px;border-radius:20px;font-size:14px;color:#666;opacity:0;transition:opacity 0.5s}
@media (max-width:480px){.container{padding:30px}.question{font-size:24px}.btn{padding:15px 35px;font-size:18px}}
</style>
</head>
<body>
<audio id="clickSound" style="display:none">
<source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=" type="audio/wav">
</audio>
<div class="shake-hint" id="shakeHint">摇一摇手机有惊喜哦~</div>
<div class="container" id="mainContainer">
<div class="lottie-container">
<div class="cute-character">
<div class="char-head">
<div class="char-eye left"></div>
<div class="char-eye right"></div>
<div class="char-smile"></div>
</div>
<div class="char-body"></div>
<div class="char-arm left"></div>
<div class="char-arm right"></div>
</div>
</div>
<div class="question">媛媛要做要要的女朋友吗？💕</div>
<div class="buttons">
<button class="btn btn-yes" onclick="sayYes()">要</button>
<button class="btn btn-no" onclick="sayNo(this)">不要</button>
</div>
</div>
<canvas id="fireworks"></canvas>
<div class="success-overlay" id="successPage">
<svg class="dogs-svg" viewBox="0 0 300 200">
<g id="leftDog" transform="translate(50,50)">
<path class="dog-path" d="M20,40 Q10,30 5,40 Q10,50 20,45 L20,40"/>
<path class="dog-path" d="M60,40 Q70,30 75,40 Q70,50 60,45 L60,40"/>
<circle cx="40" cy="50" r="25" fill="none" stroke="#FF69B4" stroke-width="3"/>
<circle cx="30" cy="45" r="3" fill="#333"/>
<circle cx="50" cy="45" r="3" fill="#333"/>
<path class="dog-path" d="M35,55 Q40,60 45,55"/>
<path class="dog-path" d="M20,70 Q40,80 60,70" fill="#FFB6C1"/>
<path class="dog-path" d="M15,90 Q10,100 20,100 M60,90 Q70,100 60,100" id="tail1">
<animate attributeName="d" values="M15,90 Q10,100 20,100 M60,90 Q70,100 60,100;M15,90 Q5,95 20,100 M60,90 Q75,95 60,100;M15,90 Q10,100 20,100 M60,90 Q70,100 60,100" dur="0.5s" repeatCount="indefinite"/>
</path>
</g>
<g id="rightDog" transform="translate(200,50) scale(-1,1)">
<path class="dog-path" d="M20,40 Q10,30 5,40 Q10,50 20,45 L20,40"/>
<path class="dog-path" d="M60,40 Q70,30 75,40 Q70,50 60,45 L60,40"/>
<circle cx="40" cy="50" r="25" fill="none" stroke="#FF69B4" stroke-width="3"/>
<circle cx="30" cy="45" r="3" fill="#333"/>
<circle cx="50" cy="45" r="3" fill="#333"/>
<path class="dog-path" d="M35,55 Q40,60 45,55"/>
<path class="dog-path" d="M20,70 Q40,80 60,70" fill="#FFB6C1"/>
<path class="dog-path" d="M15,90 Q10,100 20,100 M60,90 Q70,100 60,100" id="tail2">
<animate attributeName="d" values="M15,90 Q10,100 20,100 M60,90 Q70,100 60,100;M15,90 Q5,95 20,100 M60,90 Q75,95 60,100;M15,90 Q10,100 20,100 M60,90 Q70,100 60,100" dur="0.5s" repeatCount="indefinite"/>
</path>
</g>
<g class="heart-bubble" transform="translate(150,30)">
<path d="M0,10 C0,5 5,0 10,0 C15,0 20,5 20,10 C20,5 25,0 30,0 C35,0 40,5 40,10 C40,20 20,35 20,35 C20,35 0,20 0,10 Z" fill="#FF69B4" opacity="0.8"/>
</g>
</svg>
<div class="success-text">太好了！我们在一起啦！❤️</div>
</div>
<div class="hidden-easter" id="easterEgg">🎉 你发现了彩蛋！🎉</div>
<script>
let noClickCount=0,shakeCount=0,idleTimer;
const canvas=document.getElementById('fireworks');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
window.addEventListener('resize',()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight});
function playSound(){try{document.getElementById('clickSound').play()}catch(e){}}
function sayYes(){
playSound();
document.getElementById('successPage').style.display='flex';
launchFireworks();
if(typeof WeixinJSBridge!=='undefined'){
WeixinJSBridge.invoke('setNavigationBarColor',{
frontColor:'#ffffff',
backgroundColor:'#FFF0F5',
animation:{duration:400,timingFunc:'easeIn'}
})
}
}
function sayNo(btn){
playSound();
noClickCount++;
const scale=1+noClickCount*0.2;
btn.style.transform=`scale(${scale})`;
const maxX=window.innerWidth-btn.offsetWidth*scale;
const maxY=window.innerHeight-btn.offsetHeight*scale;
const randomX=Math.random()*maxX;
const randomY=Math.random()*maxY;
btn.style.position='fixed';
btn.style.left=randomX+'px';
btn.style.top=randomY+'px';
btn.style.zIndex='999';
}
function launchFireworks(){
const particles=[];
const colors=['#FF69B4','#FFB6C1','#FFC0CB','#FF1493','#FF69B4'];
class Particle{
constructor(x,y,color){
this.x=x;
this.y=y;
this.vx=(Math.random()-0.5)*8;
this.vy=(Math.random()-0.5)*8;
this.color=color;
this.alpha=1;
this.decay=0.015;
}
update(){
this.x+=this.vx;
this.y+=this.vy;
this.vy+=0.1;
this.alpha-=this.decay;
}
draw(){
ctx.save();
ctx.globalAlpha=this.alpha;
ctx.fillStyle=this.color;
ctx.beginPath();
ctx.arc(this.x,this.y,3,0,Math.PI*2);
ctx.fill();
ctx.restore();
}
}
function createExplosion(x,y){
for(let i=0;i<30;i++){
particles.push(new Particle(x,y,colors[Math.floor(Math.random()*colors.length)]));
}
}
function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
particles.forEach((particle,index)=>{
particle.update();
particle.draw();
if(particle.alpha<=0){
particles.splice(index,1);
}
});
if(particles.length>0||Math.random()<0.1){
requestAnimationFrame(animate);
}
if(Math.random()<0.05){
createExplosion(Math.random()*canvas.width,Math.random()*canvas.height*0.5);
}
}
for(let i=0;i<5;i++){
setTimeout(()=>{
createExplosion(Math.random()*canvas.width,Math.random()*canvas.height*0.5);
},i*200);
}
animate();
}
if(window.DeviceMotionEvent){
window.addEventListener('devicemotion',(e)=>{
const acc=e.accelerationIncludingGravity;
if(Math.abs(acc.x)>15||Math.abs(acc.y)>15||Math.abs(acc.z)>15){
shakeCount++;
if(shakeCount>5){
document.getElementById('easterEgg').style.opacity='1';
setTimeout(()=>{document.getElementById('easterEgg').style.opacity='0'},3000);
shakeCount=0;
}
}
});
}
function showIdleHint(){
const hint=document.getElementById('shakeHint');
hint.style.opacity='1';
setTimeout(()=>{hint.style.opacity='0'},3000);
}
function resetIdleTimer(){
clearTimeout(idleTimer);
idleTimer=setTimeout(showIdleHint,10000);
}
document.addEventListener('click',resetIdleTimer);
document.addEventListener('touchstart',resetIdleTimer);
resetIdleTimer();
if(typeof WeixinJSBridge==='object'){
WeixinJSBridge.on('menu:share:timeline',function(){
WeixinJSBridge.invoke('shareTimeline',{
title:'❤️',
link:window.location.href,
imgUrl:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=='
});
});
}
document.addEventListener('WeixinJSBridgeReady',function(){
WeixinJSBridge.call('hideOptionMenu');
});
window.addEventListener('error',function(e){
console.log('Error caught:',e.message);
return true;
});
</script>
</body>
</html>
